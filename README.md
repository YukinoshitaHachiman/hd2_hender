由于最近在玩绝地潜兵2，游戏里有一个“搓球”的操作，就是按下一组连续的按键可以呼叫对应的支援，正好手边有一块立创的ESP32，就试着做了一个自动搓球的摆件，其实主要是学习，实战价值不大。
项目其实是基于嘉立创的例程修改来的，https://wiki.lckfb.com/zh-hans/szpi-esp32s3/

对于屏幕显示的功能，使用了lvgl，战备图标来源小黑盒老哥们。因为我的屏幕不大，240x320的，所以在屏幕上放了六个常用图标，大小是80x80，可以自行替换图标，方法是先用win自带的画图将图片修改成对应大小，然后使用lvgl官网的图片转换功能https://lvgl.io/tools/imageconverter，选择将图片转换成c数组，颜色设置是CF_TRUE_COLOR,然后将转换好的c文件放到assets文件夹下，并且在CMakeList.txt中添加编译，然后在app_ui.c中的lv_main_page函数里进行修改。
开机图片的设置也是一样，右上角标语啥的也都是在app_ui.c中修改。

搓球这个功能使用了esp-hid这个组件，可以通过蓝牙将esp32设置成各种外围设备，如键盘，鼠标，手柄等，这里就是将esp32当成了蓝牙键盘使用。具体的代码在bt文件夹下ble_hidd_demo.c，拉到最后就能看到，在lv_main_page中调用app_hid_ctrl();函数实现蓝牙连接，此时电脑可以搜索到“HID”蓝牙设备，快速搓球的实现也写在ble_hidd_demo.c中，比较简单，本质接近于“键盘宏”。默认是使用wasd，如果游戏键位改了的话也可以自行更换代码。对于这些函数的调用写在了app_ui.c中，通过freeRTOS进行任务管理。